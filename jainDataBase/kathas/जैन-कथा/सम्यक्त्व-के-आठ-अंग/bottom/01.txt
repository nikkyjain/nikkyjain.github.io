धन्वन्तरि और विश्वलोमा पुण्यकर्म के प्रभाव से अमितप्रभ और विद्युत्प्रभ नाम के देव हुए और एक-दूसरे के धर्म की परीक्षा करने हेतु पृथिवीलोक पर आये। तदनन्तर उन्होंने यमदग्रि ऋषि को तप से विचलित किया। मगधदेश के राजगृह नगर में जिनदत्त नाम का सेठ उपवास का नियम लेकर कृष्ण पक्ष की चतुर्दशी की रात्रि को श्मशान में कायोत्सर्ग से स्थित था। उसे देखकर अमितप्रभ देव ने विद्युत्प्रभ से कहा कि हमारे मुनि तो दूर रहें, इस गृहस्थ को ही तुम ध्यान से विचलित कर दो। तदनन्तर विद्युत्प्रभ देव ने उस पर अनेक प्रकार के उपसर्ग किये, फिर भी वह ध्यान से विचलित नहीं हुआ। तदनन्तर प्रात:काल अपनी माया को समेटकर विद्युत्प्रभ ने उसकी बहुत प्रशंसा की और उसे आकाशगामिनी विद्या दी। विद्या प्रदान करते समय उससे कहा कि तुम्हें यह विद्या सिद्ध हो चुकी है, दूसरे के लिए पञ्चनमस्कार मन्त्र की अर्चना और आराधना विधि से सिद्ध होगी। जिनदत्त के यहाँ सोमदत्त नाम का एक ब्रह्मचारी वटु रहता था, जो जिनदत्त के लिए फूल लाकर देता था। एक दिन उसने जिनदत्त सेठ से पूछा कि आप प्रात:काल ही उठकर कहाँ जाते हैं? सेठ ने कहा कि मैं अकृत्रिम चैत्यालयों की वन्दना भक्ति करने के लिए जाता हूँ। मुझे इस प्रकार से आकाशगामिनी विद्या का लाभ हुआ है, सेठ के ऐसा कहने पर सोमदत्त वटु ने कहा कि मुझे भी यह विद्या दो, जिससे मैं भी तुम्हारे साथ पुष्पादिक लेकर वन्दना भक्ति करूंगा। तदनन्तर सेठ ने उसके लिए विद्या सिद्ध करने की विधि बतलाई।
सोमदत्त वटु ने कृष्ण पक्ष की चतुर्दशी की रात्रि को श्मसान में वटवृक्ष की पूर्व दिशा वाली शाखा पर एक सौ आठ रस्सियों का मूंज का एक सींका बांधा। उसके नीचे सब प्रकार के पैने शस्त्र ऊपर की ओर मुख कर रखे। पश्चात् गन्ध, पुष्प आदि लेकर सींके के बीच प्रविष्ट हो उसने बेला (दो दिन के उपवास) का नियम लिया। फिर पञ्चनमस्कार मन्त्र का उच्चारण कर छुरी से सींके की एक-एक रस्सी को काटने के लिए तैयार हुआ। परन्तु नीचे चमकते हुए शस्त्रों के समूह को देखकर वह डर गया तथा विचार करने लगा कि यदि सेठ के वचन असत्य हुए तो मरण हो जाएगा। इस प्रकार शंकित चित्त होकर वह सींके पर बार-बार चढऩे और उतरने लगा।
उसी समय, राजगृही नगरी में एक अञ्जनसुन्दरी नाम की वेश्या रहती थी। एक दिन उसने कनकप्रभ राजा की की कनका रानी का हार देखा। रात्रि को जब अञ्जन चोर उस वेश्या के यहाँ गया तब उसने कहा कि यदि तुम मुझे कनका रानी का हार लाकर दे सकते हो तो मेरे भत्र्ता बन सकते हो, अन्यथा नहीं। तदनन्तर अञ्जन चोर रात्रि में हार चुराकर आ रहा था कि हार के प्रकाश से वह जान लिया गया। अङ्गरक्षकों और कोटपाल ने उसे पकडऩा चाहा, परन्तु वह हार छोडक़र भाग गया। वटवृक्ष के नीचे सोमदत्त वटुक को देखकर उसने उससे सब समाचार पूछे तथा उससे मन्त्र लेकर वह सींके पर चढ़ गया। उसने नि:शंकित होकर उस विधि से एक ही बार में सींके की सब रस्सियाँ काट दीं। ज्यों ही वह शस्त्रों के ऊपर गिरने लगा त्यों ही विद्या सिद्ध हो गई। सिद्ध हुई विद्या ने उससे कहा कि मुझे आज्ञा दो। अञ्जन चोर ने कहा कि मुझे जिनदत्त सेठ के पास ले चलो। उस समय जिनदत्त सेठ सुदर्शन-मेरु के चैत्यालय में स्थित था। विद्या ने अञ्जन चोर को ले जाकर सेठ के आगे खड़ा कर दिया। अपना पिछला वृत्तान्त कहकर अञ्जन चोर ने सेठ से कहा कि आपके उपदेश से मुझे जिस प्रकार यह विद्या सिद्ध हुई है, उसी प्रकार परलोक की सिद्धि के लिए भी आप मुझे उपदेश दीजिए। तदनन्तर चारण ऋद्धिधारी मुनिराज के पास दीक्षा लेकर उसने कैलाश पर्वत पर तप किया और केवलज्ञान प्राप्त कर वहीं से मोक्ष प्राप्त किया।
